<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>دسته‌بندی‌ها - هنرکده فارسی</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

        <style>
        .custom-nav-graphic {
            display: flex;
            gap: 20px;
            align-items: center;

        }

        .custom-nav-graphic .nav-link {
            position: relative;
            color: #f0f0f0;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .custom-nav-graphic .nav-link::after {
            content: "";
            position: absolute;
            width: 0%;
            height: 2px;
            left: 50%;
            bottom: 4px;
            background-color: #ffcc00;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .custom-nav-graphic .nav-link:hover {
            color: #ffcc00;
        }

        .custom-nav-graphic .nav-link:hover::after {
            left: 0;
            width: 100%;
        }

        .custom-nav-graphic .nav-link.active {
            color: #ffcc00;
            font-weight: 600;
        }

        @media (max-width: 991px) {
            .custom-nav-graphic {
                flex-direction: column;
                gap: 10px;
                margin-top: 15px;
            }
        }

        .btn-back {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-size: 22px;
          color: #fff;
          text-decoration: none;
          position: absolute;
          top: 36px;
          left: 15px;
          transition: color 0.3s ease;
          z-index: 2000; /* اضافه شد */
        }


        .btn-back::after {
          content: "";
          position: absolute;
          width: 0%;
          height: 2px;
          left: 50%;
          bottom: 0;
          background-color: #ffcc00;
          transition: width 0.3s ease;
          border-radius: 2px;
          transform: translateX(-50%);
          z-index: 2;
        }

        .btn-back:hover {
          color: #ffcc00;
        }

        .btn-back:hover::after {
          width: 100%;
        }


          .search-wrapper {
            position: relative;
            display: inline-block;
          }

          .search-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 20px;
            color: #fff;
            margin-left: 40px;
            position: relative;
            transition: color 0.3s ease;
          }

          .search-btn::after {
            content: "";
            position: absolute;
            width: 0%;
            height: 2px;
            left: 50%;
            bottom: 0px;
            background-color: #ffcc00;
            transition: all 0.3s ease;
            border-radius: 2px;
            transform: translateX(-50%);
          }

          .search-btn:hover {
            color: #ffcc00;
          }

          .search-btn:hover::after {
            width: 100%;
          }

          .search-form {
            position: absolute;
            left: 40px;
            top: 40%;
            transform: translateY(-50%) scaleX(0);
            transform-origin: left;
            width: 250px;
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.4s ease;
            opacity: 0;
            z-index: 1;
          }

          .search-input {
            width: 100%;
            padding: 8px 20px;
            border-radius: 50px;
            border: none;
            outline: none;
            background: #f5f5f5;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
            font-size: 14px;
            transition: box-shadow 0.3s ease, background 0.3s ease;
          }

          .search-input:focus {
            box-shadow: 0 0 20px rgba(255,204,0,0.6);
            background: #fff;
          }

          .search-wrapper.active .search-form {
            transform: translateY(-50%) scaleX(1);
            opacity: 1;
          }

          .btn-custom:hover {
              transform: scale(1.1);
          }

          .btn-view {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: #000;
            text-decoration: none;
            background: none;
            border: none;
            position: relative;
            transition: color 0.3s ease;
            cursor: pointer;
          }

          .btn-view::after {
            content: "";
            position: absolute;
            width: 0%;
            height: 2px;
            left: 50%;
            bottom: 8px;
            background-color: #ffcc00;
            transition: width 0.3s ease;
            border-radius: 2px;
            transform: translateX(-50%);
            z-index: 2;
          }

          .btn-view:hover {
            color: #ffcc00;
          }

          .btn-view:hover::after {
            width: 100%;
          }


          .content-card {
            background: #fff;
            transition: transform 0.3s, box-shadow 0.3s;
          }

          .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.2);
          }

          .btn-primary {
            background: linear-gradient(135deg, #64b5f6, #2196f3);
            border: none;
            transition: all 0.3s ease;
          }

          .btn-primary:hover {
            background: linear-gradient(135deg, #42a5f5, #1e88e5);
          }

          @media (max-width: 768px) {
            .content-card {
              flex-direction: column;
              gap: 8px;
            }
          }
        </style>
</head>
<body style="background-color: #d3d2d0;">
  <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #2c2d2d;">
    <div class="container position-relative">

      <leble class="navbar-brand nastaliq-brand" >هنرکده فارسی</leble>
      <div class="collapse navbar-collapse d-flex justify-content-center" id="navbarNav">
          <ul class="navbar-nav custom-nav-graphic" style="display:inline-flex; transform: translateX(50px);">
            <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}">خانه</a></li>
            <li class="nav-item"><a class="nav-link" href="{{ url_for('admin') }}">نگارش محتوا</a></li>
            <li class="nav-item"><a class="nav-link active" href="{{ url_for('categories') }}">آرشیو</a></li>
            <li class="nav-item"><a class="nav-link" href="{{ url_for('my_artworks') }}">آثار من</a></li>
            <li class="nav-item"><a class="nav-link" href="{{ url_for('about') }}">درباره ما</a></li>
          </ul>
      </div>

      <a href="{{url_for('index')}}" class="btn-back">
        <i class="bi bi-arrow-left-circle"></i>
      </a>

      <div class="search-wrapper">
        <button id="search-btn" class="search-btn">
          <i class="bi bi-search"></i>
        </button>
        <form class="search-form" action="{{ url_for('search') }}" method="GET">
          <input id="search-input" type="text" name="q" placeholder="جستجو..." class="search-input">
        </form>
      </div>
    </div>
  </nav>

  <section class="container my-5">
    <h2 class="fw-bold mb-4 text-center" style="color:#000;">دسته‌بندی‌ها</h2>
    <div class="row">

      <div class="col-md-4">
        <h4 class="text-center mb-3" style="color:#000;">شعر</h4>
        {% for item in poems %}
          <div class="content-card d-flex justify-content-between align-items-center mb-3 p-3 rounded-3 shadow-sm"
               style="background: #ebebef;">
            <div>
              <small class="text-muted d-block mb-1">سراینده: {{ item['first_name'] }} {{ item['last_name'] }}</small>
              <span class="fw-bold text-truncate" style="max-width: 70%;">{{ item['عنوان'] }}</span>
            </div>
            <a href="{{ url_for('view_item', cat='poems', item_id=item['شماره']) }}"
               class="btn btn-sm btn-view">
              <i class="bi bi-eye"></i>
            </a>
          </div>
        {% else %}
          <p class="text-center text-muted">هیچ شعری موجود نیست</p>
        {% endfor %}
      </div>


      <!-- ستون داستان کوتاه -->
      <div class="col-md-4">
        <h4 class="text-center mb-3" style="color:#000;">داستان کوتاه</h4>
        {% for item in stories %}
          <div class="content-card d-flex justify-content-between align-items-center mb-3 p-3 rounded-3 shadow-sm"
               style="background: #ebebef;">
            <div>
              <small class="text-muted d-block mb-1">نویسنده: {{ item['first_name'] }} {{ item['last_name'] }}</small>
              <span class="fw-bold text-truncate" style="max-width: 70%;">{{ item['عنوان'] }}</span>
            </div>
            <a href="{{ url_for('view_item', cat='stories', item_id=item['شماره']) }}"
               class="btn btn-sm btn-view">
              <i class="bi bi-eye"></i>
            </a>
          </div>
        {% else %}
          <p class="text-center text-muted">هیچ داستانی موجود نیست</p>
        {% endfor %}
      </div>


      <!-- ستون متن ادبی -->
      <div class="col-md-4">
        <h4 class="text-center mb-3" style="color:#000;">متن ادبی</h4>
        {% for item in literature %}
          <div class="content-card d-flex justify-content-between align-items-center mb-3 p-3 rounded-3 shadow-sm"
               style="background: #ebebef;">
            <div>
              <small class="text-muted d-block mb-1">نویسنده: {{ item['first_name'] }} {{ item['last_name'] }}</small>
              <span class="fw-bold text-truncate" style="max-width: 70%;">{{ item['عنوان'] }}</span>
            </div>
            <a href="{{ url_for('view_item', cat='literature', item_id=item['شماره']) }}"
               class="btn btn-sm btn-view">
              <i class="bi bi-eye"></i>
            </a>
          </div>
        {% else %}
          <p class="text-center text-muted">هیچ متن ادبی موجود نیست</p>
        {% endfor %}
      </div>


    </div>
  </section>

  <footer class="py-4 text-center" style="background-color:#0a0a0a; color: #fff">
      <p>© 2025 هنرکده فارسی | تمام حقوق محفوظ است</p>
    </footer>
    <script>
      const searchBtn = document.getElementById('search-btn');
      const searchWrapper = document.querySelector('.search-wrapper');
      const searchInput = document.getElementById('search-input');

      searchBtn.addEventListener('click', e => {
        e.stopPropagation();
        searchWrapper.classList.toggle('active');
        if (searchWrapper.classList.contains('active')) {
          searchInput.focus();
        }
      });

      document.addEventListener('click', () => {
        searchWrapper.classList.remove('active');
        searchInput.value = "";
      });

      searchInput.addEventListener('click', e => e.stopPropagation());
    </script>
</body>
</html>
